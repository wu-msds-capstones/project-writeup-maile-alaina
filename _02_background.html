<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>background</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="_02_background_files/libs/clipboard/clipboard.min.js"></script>
<script src="_02_background_files/libs/quarto-html/quarto.js"></script>
<script src="_02_background_files/libs/quarto-html/popper.min.js"></script>
<script src="_02_background_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="_02_background_files/libs/quarto-html/anchor.min.js"></script>
<link href="_02_background_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="_02_background_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="_02_background_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="_02_background_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="_02_background_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="background" class="level1">
<h1>Background</h1>
<p>Generative AI (GAI) is changing the way healthcare works by improving diagnosis, treatment, and patient care. Using advanced technology, GAI creates new data and insights across text, images, audio, and video. While this brings many benefits, it also raises important questions about ethics, potential biases, and practical uses.</p>
<p>Our review explores the current state and potential of GAI in healthcare, highlighting its advantages and challenges, with a focus on ethical considerations and bias mitigation.</p>
<section id="generative-ai-and-healthcare" class="level2">
<h2 class="anchored" data-anchor-id="generative-ai-and-healthcare">Generative AI and Healthcare</h2>
<p>Generative AI (GAI) is making significant changes in healthcare by offering new solutions for diagnosis, treatment, and patient care. This technology creates new data and insights, helping healthcare providers in various ways, including text, images, audio, and video. However, bringing GAI into healthcare also comes with challenges and raises important questions.</p>
<p>Our comprehensive review found that nine prominent GAI models, with <a href="https://www.openai.com/chatgpt">ChatGPT</a>, <a href="https://bard.google.com">Google Bard</a>, and <a href="https://www.bing.com">Microsoft Bing AI</a> were the most used in healthcare settings.</p>
<section id="key-uses-of-gai-in-healthcare" class="level3">
<h3 class="anchored" data-anchor-id="key-uses-of-gai-in-healthcare">Key Uses of GAI in Healthcare</h3>
<ul>
<li><strong>Clinical Decision-Making</strong>: Helping with diagnosis, predicting diseases, triage, treatment planning, and management advice.</li>
<li><strong>Medical Education</strong>: Providing insights on health conditions, designing exam questions, producing medical articles, and supporting interactive learning tools.</li>
<li><strong>Clinical Documentation</strong>: Summarizing patient issues, creating discharge summaries, and generating healthcare-related text and reports.</li>
</ul>
<section id="benefits-of-generative-ai-in-healthcare" class="level4">
<h4 class="anchored" data-anchor-id="benefits-of-generative-ai-in-healthcare">Benefits of Generative AI in Healthcare</h4>
<ul>
<li><strong>Improves Diagnosis Accuracy</strong>: Reduces human error and efficiently analyzes symptoms to identify treatment options.</li>
<li><strong>Provides Rapid Insights</strong>: Offers quick access to valuable information and high agreement rates with specialists’ recommendations.</li>
<li><strong>Enhances Patient Engagement</strong>: Personalizes care and supports medical research and education.</li>
<li><strong>Saves Time and Costs</strong>: Reduces workload for medical professionals by streamlining processes.</li>
</ul>
</section>
<section id="challenges-of-generative-ai-in-healthcare" class="level4">
<h4 class="anchored" data-anchor-id="challenges-of-generative-ai-in-healthcare">Challenges of Generative AI in Healthcare</h4>
<ul>
<li><strong>Bias and Variability</strong>: May show biases, affecting diagnosis and treatment accuracy.</li>
<li><strong>Ethical and Privacy Issues</strong>: Raises concerns about data privacy and the generation of inaccurate or biased information.</li>
<li><strong>Need for Human Oversight</strong>: Requires frequent human checks and continuous updates to maintain performance and reliability.</li>
</ul>
<p>GAI also shows promise in remote patient monitoring (RPM) telehealth solutions, enhancing virtual health interactions and making healthcare more accessible and efficient. Despite its benefits, concerns about accuracy, reliability, and patient privacy need addressing.</p>
</section>
</section>
<section id="best-practices-for-using-gai-in-healthcare" class="level3">
<h3 class="anchored" data-anchor-id="best-practices-for-using-gai-in-healthcare">Best Practices for Using GAI in Healthcare</h3>
<ul>
<li><strong>Training and Fine-Tuning AI Models</strong>: Ensure models are well-trained and continuously updated.</li>
<li><strong>Human Oversight</strong>: Maintain human involvement to verify AI outputs.</li>
<li><strong>Regulatory Compliance</strong>: Follow industry standards and regulations.</li>
<li><strong>Thorough Testing and Continuous Improvement</strong>: Regularly test AI systems and incorporate feedback for improvements.</li>
</ul>
</section>
<section id="data-ethics-in-healthcare" class="level3">
<h3 class="anchored" data-anchor-id="data-ethics-in-healthcare">Data Ethics in Healthcare</h3>
<p>Biases in AI and data-driven projects, especially in healthcare, pose significant risks. Synthetic data from sources like <a href="https://www.kaggle.com">Kaggle</a>, a data science competition platform, may carry biases from the original datasets, affecting the representation of certain conditions or demographics. Additionally, generative AI models like ChatGPT can exhibit biases based on their training data.</p>
<section id="bias-in-healthcare-ai" class="level4">
<h4 class="anchored" data-anchor-id="bias-in-healthcare-ai">Bias in Healthcare AI</h4>
<p>Training data with incomplete or imprecise representations of medical conditions can impact diagnostic tools’ accuracy and reliability, affecting patient outcomes.</p>
</section>
<section id="mitigating-bias" class="level4">
<h4 class="anchored" data-anchor-id="mitigating-bias">Mitigating Bias</h4>
<p>To address biases, we:</p>
<ul>
<li><strong>Ensure Data Quality</strong>: Use comprehensive and representative datasets.</li>
<li><strong>Detect and Quantify Biases</strong>: Implement techniques to identify biases.</li>
<li><strong>Evaluate Performance</strong>: Test AI models across diverse demographic groups for equitable performance.</li>
</ul>
</section>
</section>
<section id="ethical-considerations" class="level3">
<h3 class="anchored" data-anchor-id="ethical-considerations">Ethical Considerations</h3>
<p>In real-world scenarios involving patient data, obtaining informed consent is crucial. Although our project used synthetic and generative data, real-world applications require:</p>
<ul>
<li><strong>Transparency</strong>: Clearly explain how data is used and the purposes of AI models.</li>
<li><strong>Voluntariness</strong>: Ensure participation is voluntary and individuals can withdraw consent at any time.</li>
<li><strong>Comprehension</strong>: Provide understandable information for informed decisions.</li>
</ul>
</section>
<section id="broader-ethical-implications" class="level3">
<h3 class="anchored" data-anchor-id="broader-ethical-implications">Broader Ethical Implications</h3>
<p>AI integration in healthcare impacts healthcare professionals and patient trust. We reccomend developers ensure AI enhances patient care and supports healthcare providers by:</p>
<ul>
<li><strong>Supporting Healthcare Professionals</strong>: Use AI to help, not replace, healthcare providers.</li>
<li><strong>Building Trust</strong>: Ensure transparency and explainability in AI decisions.</li>
<li><strong>Continuous Monitoring</strong>: Regularly update and monitor AI models for accuracy and reliability.</li>
</ul>
</section>
<section id="limitations-of-synthetic-data-in-healthcare-ai-models" class="level3">
<h3 class="anchored" data-anchor-id="limitations-of-synthetic-data-in-healthcare-ai-models">Limitations of Synthetic Data in Healthcare AI Models</h3>
<p>While synthetic data offers advantages like privacy compliance and scalability, it has limitations that prevent its use for training healthcare AI models or conducting clinical research. The key issues include data leakage, lack of diversity in generated patient cohorts, and inherent biases from training data. Addressing these limitations is crucial for developing accurate and reliable AI models in healthcare.</p>
<p>Synthetic data is often “too clean,” lacking the inherent noise and variability present in real-world patient data. This can result in overly optimistic performance evaluations of AI models. For example, models based on synthetic data often achieve high accuracy scores due to data leakage, where the training and test datasets are too similar.</p>
<p>To develop accurate AI models or conduct meaningful analyses, a large and diverse patient population is needed. Synthetic data generation’s strength lies in its ability to scale, but it struggles to accurately represent diverse patient populations, affecting the reliability of AI models in real-world scenarios.</p>
<p>Generative algorithms are only as good as the data they are trained on, and any biases in the source data will be reflected in the generated synthetic data. This can exacerbate existing healthcare disparities and lead to inaccurate AI models for underrepresented groups.</p>
<p>For more details, see the full article on <a href="https://www.forbes.com/sites/forbestechcouncil/2023/05/26/the-dangers-of-using-synthetic-patient-data-to-build-healthcare-ai-models/">Forbes</a>.</p>
<hr>
</section>
<section id="key-terms" class="level3">
<h3 class="anchored" data-anchor-id="key-terms">Key Terms</h3>
<ul>
<li><strong>Generative AI</strong>: AI that creates new data based on patterns from existing data.</li>
<li><strong>Diagnostic Accuracy</strong>: How correctly a diagnostic tool identifies or predicts a medical condition.</li>
<li><strong>Healthcare Systems Integration</strong>: Incorporating new technologies like AI into existing healthcare frameworks.</li>
</ul>
<hr>
</section>
<section id="in-summary" class="level3">
<h3 class="anchored" data-anchor-id="in-summary">In Summary</h3>
<p>Generative AI holds great promise in transforming healthcare by improving diagnosis, treatment, and patient care. It offers significant benefits, such as enhancing diagnostic accuracy, providing rapid insights, and personalizing patient care. However, the integration of GAI into healthcare systems also presents challenges, including potential biases, ethical concerns, and the need for continuous human oversight.</p>
<p>To fully realize the potential of GAI, it is essential to address these challenges through best practices, ethical considerations, and rigorous testing. By doing so, we can ensure that AI technology enhances the capabilities of healthcare providers, improves patient outcomes, and maintains the trust of both patients and medical professionals.</p>
<p>The journey of integrating GAI into healthcare is ongoing, and with continued research and development, we can pave the way for a more efficient, accurate, and ethical healthcare system.</p>
<hr>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li>Moulaei, K., et al.&nbsp;(2024). Generative artificial intelligence in healthcare: A scoping review on benefits, challenges, and applications. <em>International Journal of Medical Informatics</em>, 188, 105474. <a href="https://doi.org/10.1016/j.ijmedinf.2024.105474">https://doi.org/10.1016/j.ijmedinf.2024.105474</a></li>
<li>Temsah, M.H., et al.&nbsp;(2024). Transforming Virtual Healthcare: The Potentials of ChatGPT-4omni in Telemedicine. <em>Cureus</em>, 16(5), e61377. doi: 10.7759/cureus.61377. PMID: 38817799; PMCID: PMC11139454.</li>
<li>Talby, D. (2023). The Dangers of Using Synthetic Patient Data to Build Healthcare AI Models. <em>Forbes</em>. <a href="https://www.forbes.com/sites/forbestechcouncil/2023/05/26/the-dangers-of-using-synthetic-patient-data-to-build-healthcare-ai-models/">https://www.forbes.com/sites/forbestechcouncil/2023/05/26/the-dangers-of-using-synthetic-patient-data-to-build-healthcare-ai-models/</a></li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>